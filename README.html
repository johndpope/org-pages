<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- 2019-01-24 Thu 21:15 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>org-pages 项目说明</title>
<meta name="generator" content="Org mode">
<meta name="author" content="manue1">
<link rel="stylesheet" type="text/css" href="css/worg.css" />
<!-- <link rel="shortcut icon" href="http://www.langdebuqing.com/images/favicon.ico" type="image/x-icon" /> -->
</head>
<body>
<div id="preamble" class="status">
<div id="navbar">
    <ul>
        <li id="site-master"><a href="https://www.manue1.site/">Manue1's Journal</a></li>
        <li><a class="navbar-item" href="https://www.manue1.site/write.html">All Posts</a> </li>
        <li><a class="navbar-item" href="https://www.manue1.site/link.html">Links</a> </li>
        <li class="search">
            <form action="http://google.com/search" method="get" accept-charset="utf-8">
                <input type="search" id="search" name="q" autocomplete="off" maxlength="30" placeholder="Search..">
                <input type="hidden" name="q" value="site:www.manue1.com">
            </form>
        </li>
    </ul>
</div>
</div>
<div id="content">
<h1 class="title">org-pages 项目说明</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org8e0dcb1">1. org-pages</a></li>
<li><a href="#org052c735">2. html-pages</a></li>
</ul>
</div>
</div>
<div id="outline-container-org8e0dcb1" class="outline-2">
<h2 id="org8e0dcb1"><span class="section-number-2">1</span> <a href="http://www.manue1.site/">org-pages</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><p>
<a href="https://github.com/Nanue1/org-pages">emacs文档备份路径</a><br>
</p>

<p>
备份一些平时，脑子记不住的内容<br>
</p></li>

<li><p>
org转html 快捷键<br>
</p>

<p>
M-x org-publish-project<br>
</p></li>

<li><p>
emacs 自动生成html文件配置<br>
</p>

<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #458588;">(</span>setq org-publish-project-alist
'<span style="color: #b16286;">(</span>

<span style="color: #8ec07c;">(</span><span style="color: #79740e;">"org-html"</span>
<span style="color: #af3a03;">:base-directory</span> <span style="color: #79740e;">"~/github/org-pages"</span>
<span style="color: #af3a03;">:base-extension</span> <span style="color: #79740e;">"org"</span>
<span style="color: #af3a03;">:publishing-directory</span> <span style="color: #79740e;">"~/github/html-pages"</span>
<span style="color: #af3a03;">:section-numbers</span> nil
<span style="color: #af3a03;">:recursive</span> t
<span style="color: #af3a03;">:publishing-function</span> org-html-publish-to-html
<span style="color: #af3a03;">:headline-levels</span> 4
<span style="color: #af3a03;">:auto-sitemap</span> t
<span style="color: #af3a03;">:sitemap-filename</span> <span style="color: #79740e;">"sitemap.org"</span>
<span style="color: #af3a03;">:sitemap-title</span> <span style="color: #79740e;">"Sitemap"</span>
<span style="color: #af3a03;">:auto-preamble</span> t
<span style="color: #af3a03;">:author</span> nil
<span style="color: #af3a03;">:creator-info</span> nil
<span style="color: #af3a03;">:auto-postamble</span> nil<span style="color: #8ec07c;">)</span>
<span style="color: #8ec07c;">(</span><span style="color: #79740e;">"org-static"</span>
<span style="color: #af3a03;">:base-directory</span> <span style="color: #79740e;">"~/github/org-pages"</span>
<span style="color: #af3a03;">:base-extension</span> <span style="color: #79740e;">"html\\|css\\|js\\|ico\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf\\|java\\|py\\|zip\\|arff\\|dat\\|cpp\\|xls\\|otf\\|woff"</span>
<span style="color: #af3a03;">:publishing-directory</span> <span style="color: #79740e;">"~/github/html-pages"</span>
<span style="color: #af3a03;">:recursive</span> t
<span style="color: #af3a03;">:publishing-function</span> org-publish-attachment<span style="color: #8ec07c;">)</span>
<span style="color: #8ec07c;">(</span><span style="color: #79740e;">"org-pages"</span> <span style="color: #af3a03;">:components</span> <span style="color: #d65d0e;">(</span><span style="color: #79740e;">"org-html"</span> <span style="color: #79740e;">"org-static"</span><span style="color: #d65d0e;">)</span><span style="color: #8ec07c;">)</span>
<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>

<span style="color: #458588;">(</span>setq org-export-copy-to-kill-ring nil<span style="color: #458588;">)</span>
<span style="color: #458588;">(</span>setq org-export-with-sub-superscripts nil<span style="color: #458588;">)</span>

<span style="color: #458588;">(</span>setq org-html-postamble nil<span style="color: #458588;">)</span>
<span style="color: #458588;">(</span>setq org-html-preamble <span style="color: #79740e;">"&lt;a href=\"index.html\"&gt;Home&lt;/a&gt;"</span><span style="color: #458588;">)</span>

<span style="color: #a89984;">;; </span><span style="color: #a89984;">&#31561;&#23485;: Source Code Pro 13 + STkaiti 16</span>
<span style="color: #458588;">(</span>setq face-font-rescale-alist `<span style="color: #b16286;">(</span><span style="color: #8ec07c;">(</span><span style="color: #79740e;">"STkaiti"</span> . ,<span style="color: #d65d0e;">(</span>/ 16.0 13<span style="color: #d65d0e;">)</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>

<span style="color: #458588;">(</span>set-face-attribute 'default nil <span style="color: #af3a03;">:font</span> <span style="color: #79740e;">"Source Code Pro-13"</span><span style="color: #458588;">)</span>

<span style="color: #458588;">(</span>set-fontset-font t 'han      <span style="color: #b16286;">(</span>font-spec <span style="color: #af3a03;">:family</span> <span style="color: #79740e;">"STkaiti"</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
<span style="color: #458588;">(</span>set-fontset-font t 'cjk-misc <span style="color: #b16286;">(</span>font-spec <span style="color: #af3a03;">:family</span> <span style="color: #79740e;">"STkaiti"</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>

</pre>
</div></li>

<li><p>
emacs 任务添加配置<br>
</p>

<p>
用来管理主页任务清单<br>
</p>

<div class="org-src-container">
<pre class="src src-lisp">
<span style="color: #a89984;">;</span><span style="color: #a89984;">Org basic configure</span>
<span style="color: #458588;">(</span><span style="color: #9d0006;">defun</span> <span style="color: #b57614;">manue1/open-gtd-file</span><span style="color: #b16286;">()</span>
    <span style="color: #b16286;">(</span>interactive<span style="color: #b16286;">)</span>
    <span style="color: #b16286;">(</span>find-file <span style="color: #79740e;">"~/github/org-pages/index.org"</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">)</span>
<span style="color: #458588;">(</span>global-set-key <span style="color: #b16286;">(</span>kbd <span style="color: #79740e;">"&lt;f1&gt;"</span><span style="color: #b16286;">)</span> 'manue1/open-gtd-file<span style="color: #458588;">)</span>
<span style="color: #458588;">(</span>global-set-key <span style="color: #b16286;">(</span>kbd <span style="color: #79740e;">"C-c a"</span><span style="color: #b16286;">)</span> 'org-agenda<span style="color: #458588;">)</span>

<span style="color: #458588;">(</span>setq org-agenda-files <span style="color: #b16286;">(</span>quote <span style="color: #8ec07c;">(</span><span style="color: #79740e;">"~/github/org-pages/index.org"</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
<span style="color: #458588;">(</span>define-key global-map <span style="color: #b16286;">(</span>kbd <span style="color: #79740e;">"&lt;f2&gt;"</span><span style="color: #b16286;">)</span> 'org-capture<span style="color: #458588;">)</span>

<span style="color: #458588;">(</span>setq org-capture-templates
      '<span style="color: #b16286;">(</span>
         <span style="color: #8ec07c;">(</span><span style="color: #79740e;">"r"</span> <span style="color: #79740e;">"Read"</span> entry <span style="color: #d65d0e;">(</span>file+headline <span style="color: #79740e;">"~/github/org-pages/read.org"</span> <span style="color: #79740e;">"Reading List"</span><span style="color: #d65d0e;">)</span>
          <span style="color: #79740e;">"* TODO  %?\n  %i\n"</span>
          <span style="color: #af3a03;">:empty-lines</span> 1<span style="color: #8ec07c;">)</span>
         <span style="color: #8ec07c;">(</span><span style="color: #79740e;">"w"</span> <span style="color: #79740e;">"Write"</span> entry <span style="color: #d65d0e;">(</span>file+headline <span style="color: #79740e;">"~/github/org-pages/write.org"</span> <span style="color: #79740e;">"Writing List"</span><span style="color: #d65d0e;">)</span>
          <span style="color: #79740e;">"* TODO  %?\n  %i\n"</span>
          <span style="color: #af3a03;">:empty-lines</span> 1<span style="color: #8ec07c;">)</span>
         <span style="color: #8ec07c;">(</span><span style="color: #79740e;">"c"</span> <span style="color: #79740e;">"Code"</span> entry <span style="color: #d65d0e;">(</span>file+headline <span style="color: #79740e;">"~/github/org-pages/code.org"</span> <span style="color: #79740e;">"Coding List"</span><span style="color: #d65d0e;">)</span>
          <span style="color: #79740e;">"* TODO  %?\n  %i\n"</span>
          <span style="color: #af3a03;">:empty-lines</span> 1<span style="color: #8ec07c;">)</span>
         <span style="color: #8ec07c;">(</span><span style="color: #79740e;">"q"</span> <span style="color: #79740e;">"Q&amp;A"</span> entry <span style="color: #d65d0e;">(</span>file+headline <span style="color: #79740e;">"~/github/org-pages/q&amp;a.org"</span> <span style="color: #79740e;">"Question &amp; Answer"</span><span style="color: #d65d0e;">)</span>
          <span style="color: #79740e;">"* TODO  %?\n  %i\n"</span>
          <span style="color: #af3a03;">:empty-lines</span> 1<span style="color: #8ec07c;">)</span>
         <span style="color: #8ec07c;">(</span><span style="color: #79740e;">"b"</span> <span style="color: #79740e;">"Body"</span> entry <span style="color: #d65d0e;">(</span>file+headline <span style="color: #79740e;">"~/github/org-pages/body.org"</span> <span style="color: #79740e;">"Body Building"</span><span style="color: #d65d0e;">)</span>
          <span style="color: #79740e;">"* TODO  %?\n  %i\n"</span>
          <span style="color: #af3a03;">:empty-lines</span> 1<span style="color: #8ec07c;">)</span>
         <span style="color: #b16286;">)</span>
<span style="color: #458588;">)</span>
<span style="color: #a89984;">; </span><span style="color: #a89984;">Task state settings</span>
<span style="color: #458588;">(</span>setq org-todo-keywords
     '<span style="color: #b16286;">(</span><span style="color: #8ec07c;">(</span>sequence <span style="color: #79740e;">"TODO(t!)"</span> <span style="color: #79740e;">"SOMEDAY(s)"</span> <span style="color: #79740e;">"|"</span> <span style="color: #79740e;">"DONE(d@/!)"</span> <span style="color: #79740e;">"UNDO(u@/!)"</span> <span style="color: #79740e;">"ABORT(a@/!)"</span><span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span>
<span style="color: #458588;">)</span>

</pre>
</div></li>
</ul>
</div>
</div>


<div id="outline-container-org052c735" class="outline-2">
<h2 id="org052c735"><span class="section-number-2">2</span> html-pages</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><p>
拉取分支：<br>
</p>

<p>
git clone -b html-pages  git@github.com:Nanue1/org-pages.git html-pages<br>
</p></li>

<li><p>
vps 每分钟同步拉取<br>
</p>

<p>
*/1 * * * * cd /home/manue1/html-pages &amp;&amp; git pull &gt; /tmp/x.txt<br>
</p></li>

<li><p>
nginx同步目录<br>
</p>

<p>
/etc/nginx/conf.d/nginx_www.conf<br>
</p>

<pre class="example">
server {
        listen       80;
        server_name  www.manue1.site;


        location / {
            root   /home/manue1/html-pages;
            index  index.html index.htm;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }

    }
</pre></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>
    <a href="">manue1</a> 搭建和维护，使用
    <a href="https://www.gnu.org/software/emacs/">Emacs</a>
    <a href="http://orgmode.org/">Org mode</a> 编辑和构建
</p>
<script src="http://www.langdebuqing.com/css/jquery-2.1.3.min.js"></script>
<script src="http://www.langdebuqing.com/css/main.js"></script>
</div>
</body>
</html>